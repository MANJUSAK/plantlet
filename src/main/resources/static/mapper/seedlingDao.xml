<?xml version="1.0" encoding="UTF-8" ?>
<!--@author 严彬荣，version v1.0-->
<!--mapper 查询苗木数据 start -->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!--suppress ALL -->
<mapper namespace="com.goodsoft.plantlet.domain.dao.SeedlingDao">
    <!--数据查询sql start-->
    <!--苗木信息数据结果映射 start-->
    <resultMap id="seedlingMap" type="com.goodsoft.plantlet.domain.entity.seedlinginfo.SeedlingInfo">
        <result property="id" column="id"/>
        <result property="sdName" column="seedling_name"/>
        <result property="sdType" column="seedling_type"/>
        <result property="spec" column="spec"/>
        <result property="specMin" column="spec_min"/>
        <result property="specMax" column="spec_max"/>
        <result property="unit" column="unit"/>
        <result property="num" column="quantity"/>
        <result property="content" column="content"/>
        <result property="fileId" column="fileId"/>
        <result property="contact" column="contact"/>
        <result property="tel" column="tel"/>
        <result property="sdAdd" column="seedling_add"/>
    </resultMap>
    <!--苗木信息数据结果映射 end-->
    <!--苗木信息数据sql start-->
    <select id="querySeedlingDao" parameterType="com.goodsoft.plantlet.util.result.SeedlingParam"
            resultMap="seedlingMap">
        SELECT `id`,`seedling_name`,`seedling_type`,`spec`,
        `spec_min`,`spec_max`,`unit`,`quantity`,`content`,`fileId`,
        `contact`, `tel`,`seedling_add`
        FROM `gs_seedling_info`
        <where>
            <if test="keyWord !=null and keyWord !=''">
                AND seedling_name LIKE '%${keyWord}%'
            </if>
            <if test="tp != null and tp != ''">
                AND seedling_type = #{seedling_type}
            </if>
            <if test="specMin != null and specMin != ''">
                AND spec_min &gt;=#{specMin}
            </if>
            <if test="specMax != null and specMax != ''">
                AND spec_max &lt;=#{specMax}
            </if>
            <if test="sdAdd !=null and sdAdd != ''">
                AND seedling_add = #{sdAdd}
            </if>
        </where>
        ORDER BY sid DESC limit #{num},20;
    </select>
    <!--苗木信息数据sql end-->
    <!--数据查询sql end-->
    <!--数据录入sql start-->
    <!--苗木信息数据录入sql start-->
    <insert id="addSeedlingDao" parameterType="com.goodsoft.plantlet.domain.entity.seedlinginfo.SeedlingInfo">
    INSERT INTO `gs_seedling_info`
    (`id`,`seedling_name`,`seedling_type`,`spec`,`spec_min`,`spec_max`,
    `unit`,`quantity`,`content`,`fileId`,`contact`,`tel`,`seedling_add`)
    VALUES
    (#{id},#{sdName},#{sdType},#{spec},#{specMin},#{specMax},
    #{unit},#{num},#{content},#{fileId},#{contact},#{tel},#{sdAdd});
    </insert>
    <!--苗木信息数据录入sql end-->
    <!--数据录入sql end-->
</mapper>
        <!--mapper 查询苗木数据 end -->